<p class="header" > INDIA COVID-19 TRACKER </p>

<div class="card-deck">

    <div class="card mb-1">
        <div class="card-body case">
            <h4 class="card-title">Confirmed</h4>
            <p class="card-text">
                {{statewise[0].confirmed| number}}
             </p>
        </div>
        <div class="card-footer text-muted">
            <a class="update"> Updated on {{statewise[0].lastupdatedtime |date:'mediumTime':'undefined':'en-US' }} </a>
        </div>
    </div>

    <div class="card mb-1">  
        <div class="card-body active">
            <h4 class="card-title">Active</h4>
            <p class="card-text">
                {{statewise[0].active| number}}
            </p>
        </div>
    <div class="card-footer text-muted">
        <a class="update"> Updated on {{statewise[0].lastupdatedtime |date:'mediumTime':'undefined':'en-US' }} </a>
    </div>
    </div>

    <div class="card mb-1">
        <div class="card-body rec"> 
            <h5 class="card-title">Recovered</h5>
            <p class="card-text">
                {{statewise[0].recovered| number}}
            </p>
        </div> 
        <div class="card-footer text-muted">
            <a class="update"> Updated on {{statewise[0].lastupdatedtime |date:'mediumTime':'undefined':'en-US' }} </a>
        </div> 
    </div>

    <div class="card mb-1">
        <div class="card-body death"> 
          <h4 class="card-title">Deceased</h4>
          <p class="card-text">
              {{statewise[0].deaths |number}}
          </p>
        </div>
        <div class="card-footer text-muted">
            <a class="update"> Updated on {{statewise[0].lastupdatedtime |date:'mediumTime':'undefined':'en-US' }} </a>
        </div>
    </div>

</div>

<div class="info ">
    <a data-toggle="tooltip" title="Hooray!"> Select a State in the below table to know the District Case Numbers</a>
</div>

<section>
    <div class="state">
        <table class= "table table-striped table-hover"> 
            <tr  >
                <th (click)="onSort('state')"> State </th>
                <th (click)="onSort('confirmed')"> Confirmed </th> 
                <th (click)="onSort('active')"> Active </th>
                <th (click)="onSort('recovered')"> Recoverd </th>
                <th (click)="onSort('deaths')"> Deceased </th>
            </tr>
            <tr *ngFor="let data of statewise; let i=index;" (click)="onDistrict(data.state);" data-toggle="tooltip" title="Last Updated as {{statewise[i].lastupdatedtime|date:'mediumTime':'undefined':'en-US' }}">

                <td class="pointer stdt" > {{statewise[i].state}} </td>
                <td class="pointer case" > {{statewise[i].confirmed| number}} </td>
                <td class="pointer active" > {{statewise[i].active| number}} </td>
                <td class="pointer rec" > {{statewise[i].recovered| number}} </td>
                <td class="pointer death" > {{statewise[i].deaths| number}} </td>            
            </tr>
            
        </table>
    </div>
    <div class="district" *ngIf= "selectedDistList.length >0">
        <table class="table table-striped table-hover " > 
            <tr align="center" >
                <th> State</th>
                <th> District</th>
                <th> Confirmed Cases </th>
            </tr>
            <tr align="center" *ngFor="let data of selectedDistList" >
                <td class="stdt" > {{data.state}} </td>
                <td class="stdt" > {{data.district}} </td>
                <td class="case"> {{data.count| number}} </td>
            
            </tr>
        </table>
    </div>
</section>